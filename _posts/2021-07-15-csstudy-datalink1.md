---
layout: post
title: Network/데이터링크계층/전이중, 반이중, 이더넷, MAC주소 테이블
date: 2021-07-15
excerpt: "컴퓨터 네트워크 스터디 #8 Data Link layer - 전이중, 반이중, 이더넷, MAC주소 테이블"
tags: [csstudy, network]
comments: true
---

## 전이중 반이중 통신
### 전이중 (Full Duplex)
- 데이터를 **동시에 양방향으로 전송할 수 있어** 고속으로 처리가능
- 전송 효율이 높고 데이터 양이 많을 때 사용

### 반이중 (Half Duplex)
- 데이터를 양방향으로 모두 전송할 수 있으나 **동시에 양방향은 전송할 수 없음**
- 어느 한쪽이 데이터를 송신하면 상대편은 수신만 가능한 통신
- 송신측과 수신측이 정해져 있지 않으며 양 단말기의 상호 협력에 의해 송수신 방향 전환
- 하나의 통신 채널을 이용해 교대로 데이터 송수신
- 전송 데이터가 적을 때 용이

### 단일 방식 (Simplex)
- 데이터를 한쪽 방향으로만 전송
- 송신측과 수신측이 미리 고정되어 있는 통신 방식
    - 송신측은 송신만 담당, 수신측은 수신만 담당
- 전송로 2개 필요
- 주로 단말기에서 컴퓨터 방향으로 데이터를 전송
- 무선 호출기, 라디오, 아날로그 TV 방송, 모니터, 키보드 등

## 허브 - 이더넷과 CSMA/CD
### 이더넷
- 전 세계에서 폭넓게 이용되고 있는 네트워크 규격
- 네트워크를 구성하는 방식 중 하나로, 각 기기들의 고유의 주소인 MAC 주소를 가지고 호스트 간 데이터를 주고 받음
- 여러 컴퓨터가 동시에 데이터를 전송해도 충돌이 일어나지 않는 구조로 되어있음

### CSMA/CD
- CS : 데이터를 보내려고 하는 컴퓨터가 테이블에 신호가 흐르고 있는지 아닌지 확인하는 규칙
- MA : 케이블에 데이터가 흐르고 있지 않다면 데이터를 보내도 좋다는 규칙
- CD : 충돌이 발생하고 있는지를 확인하는 규칙

## 스위치
- 스위치의 세 가지 주요 기능

1. 주소학습
    - 각 포트에 부착된 장비의 MAC 주소를 배우고 MAC 데이터베이스에 저장
2. 패킷 포워딩/필터링
    - 스위치가 프레임을 수신하면 MAC 테이블을 참조하여 어떤 포트로 프레임을 보낼 것인지 결정
    - 결정된 포트로만 프레임 전송
3. 루프방지
    - 스위치 네트워크의 이중화로 인해 발생되는 루프를 방지하는 기능

- 스위칭의 3가지 방식

1.  Store and Forward
    - 프레임이 포워딩하기 전에 완전한 프레임을 수신해야 함
    - 목적지 주소와 출발지 주소를 읽고 CRC를 수행한 후 프레임을 포워딩
    - 손상된 프레임은 버려진다, 지연시간은 프레임 길이에 따라 다름
2. CUT Through
    - 프레임 헤더가 도착하자마자 목적지 주소를 검사하고 바로 프레임 포워딩 ⇒ 패킷의 지연시간 감소 효과
    - ❌ CRC 값에 오류가 있는 프레임이나 충돌된 프레임을 여전히 포워딩
3. Fragment-free
    - 스위치가 프레임을 포워딩하기 전에 첫 번째 64bytes를 읽어들여 CRC 검사를 한 뒤 이상이 없으면 포워딩
    - 프레임의 손상이나 충돌은 보통 프레임의 첫 번째 64bytes에서 발생하기 때문

## MAC주소 테이블
- 스위치나 브릿지에 연결된 사용자들의 맥 주소를 저장한 것
- 라우터가 라우팅 테이블을 참조하여 패킷을 라우팅 처리시키는 것처럼 스위치는 MAC주소 테이블을 참조하여 프레임을 스위칭시킨다

<div style="width:60% !important; margin:0 auto">
<img src="/assets/img/ethernet.png" alt="ethernet.png">
</div>

- MAC Address 학습과정
    - MAC주소 `0260.8c01.1111`의 A는 MAC주소 `0260.8c01.2222` C로 트래픽을 보내려고 함
    1. 프레임은 초기에 물리적 이더넷에서 수신되고 임시 버퍼공간에 저장
    2. 스위치에 MAC 테이블이 없기 때문에 모든 포트로 프레임을 플러딩
    3. 스위치 A에서 프레임을 플러딩하는 동안 스위치는 송신지 주소를 알게 되고 이를 E0과 연결하여 새로운 MAC주소 테이블 항목으로 등록
    4. MAC 주소항목은 캐시 메모리에 저장되고, 일정 시간 내에서 스위치를 통과하는 새로운 프레임에 의해서 재생되지 않으면 버려짐

  ⇒ 이 과정을 통해 스위치는 각 포트에 연결된 MAC 주소를 기억한다.

---

### 출처
- [참고링크](https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&blogId=wecomedy&logNo=150111409993)
